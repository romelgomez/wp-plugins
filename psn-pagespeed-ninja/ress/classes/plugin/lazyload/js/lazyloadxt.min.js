/*! Lazy Load XT v2.0.0 2017-09-27
 * http://ressio.github.io/lazy-load-xt
 * (C) 2013-2018 RESS.io
 * Licensed under MIT */
!function(e,t,n){function o(e){for(var t,n,o=1;o<arguments.length;o++){t=arguments[o];for(n in t)e[n]=t[n]}return e}function a(e,t){return e[t]===n?X[t]:e[t]}function r(){var t=e.pageYOffset;return t===n?b.scrollTop:t}function i(e){return"function"==typeof e}function l(e){return"string"==typeof e}function c(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1}function d(e,n,o){e=l(e)?t.querySelectorAll(e):[e],n=n.split(" ");for(var a,r=0;r<e.length;r++)for(a=0;a<n.length;a++)e[r].addEventListener(n[a],o,{capture:!0,passive:!0})}function s(e,t,n){t=t.split(" ");for(var o=0;o<t.length;o++)e.removeEventListener(t[o],n)}function f(e,t,n){if(t){var o,a=0,r=" "+e.className.replace(/[\t\r\n\f]/g," ")+" ",i=r;for(t=t.match(/\S+/g)||[];a<t.length;a++)o=t[a]+" ",n?i=i.replace(" "+o," "):i.indexOf(" "+o)<0&&(i+=o);r!==i&&(e.className=i.slice(1,-1))}}function u(e,n){var o=X["on"+e];o&&(i(o)?o.call(n):(f(n,o.addClass),f(n,o.removeClass,!0))),(o=t.createEvent("Event")).initEvent("lazy"+e,!0,!0),n.dispatchEvent(o),h()}function p(e){var t=e.currentTarget;O--,X.preload&&0===O&&v(1),s(t,L,p),u(e.type,t)}function v(t){if(I.length){t=t||X.forceLoad,x=1/0;var n,o,a=r(),l=e.innerHeight||b.clientHeight,s=e.innerWidth||b.clientWidth;for(n=0,o=I.length;n<o;n++){var f,v=I[n],g=v[E],h=!1,A=t<0||t>O||v[z]<0;if(c(b,v)){if(A||!g.visibleOnly||v.offsetWidth||v.offsetHeight){if(!A){var y=v.getBoundingClientRect(),w=g.edgeX,m=g.edgeY;A=(f=y.top+a-m-l)<=a&&y.bottom>-m&&y.left<=s+w&&y.right>-w}if(A){O++,d(v,L,p),u("show",v);var T=g.srcAttr,C=i(T)?T(v):v.getAttribute(T);C&&(v.src=C),h=!0}else f<x&&(x=f)}}else h=!0;h&&(v[z]=0,I.splice(n--,1),o--)}o||u("complete",b)}}function g(){B>1?(B=1,v(),setTimeout(g,X.throttle)):B=0}function h(t){I.length&&(t&&"scroll"===t.type&&t.currentTarget===e&&x>=r()||(B||setTimeout(g,0),B=2))}function A(e){var n,r,i,c=a(e=l(e)?{selector:e}:e||{},"blankImage"),s=a(e,"checkDuplicates"),f=a(e,"scrollContainer"),p=a(e,"show"),v={},g=a(e,"selector"),A=l(g)?t.querySelectorAll(g):[g];f&&d(f,"scroll",h);for(n in C)v[n]=a(e,n);for(n=0;n<A.length;n++)r=A[n],i=s&&r[z],r[z]=p?-1:1,i||(c&&"IMG"===r.tagName&&!r.src&&(r.src=c),r[E]=o({},v),u("init",r),I.push(r));h()}function y(){A()}function w(){v(-1)}function m(){u("start",e),d(e,X.updateEvent,h),d(e,X.forceEvent,w),d(t,X.updateEvent,h),X.autoInit&&(d(e,X.loadEvent,y),y())}var E="lazyLoadXT",z=E+"_lazied",L="load error",T="lazy-hidden",b=t.documentElement||t.body,X={autoInit:!0,preload:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:e.onscroll===n||!!e.operamini||!b.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:T},onload:{removeClass:T,addClass:"lazy-loaded"},onerror:{removeClass:T},checkDuplicates:!0},C={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},I=[],x=0,B=0,O=0;o(X,C,e[E]),e[E]=A,X=o(e[E],X),o(e[E],{extend:o,isFunction:i,onEvent:d,offEvent:s,triggerEvent:u,check:h}),"complete"===t.readyState?m():t.addEventListener("DOMContentLoaded",m)}(window,document);